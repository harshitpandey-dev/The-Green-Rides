(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[5],{72:function(e,c,t){e.exports={body:"Rent_body__2GGt-",comp:"Rent_comp__2m8yu",p:"Rent_p__2jYhR"}},74:function(e,c,t){"use strict";t.r(c);var a=t(2),n=t(1),l=t(6),s=t(22),r=t(11),o=t(10),d=t(19),i=t(5),j=t(7),m=t(72),b=t.n(m),u=t(0);c.default=function(e){var c=Object(l.g)(),t=Object(n.useContext)(i.b),m=Object(n.useState)(null),O=Object(a.a)(m,2),h=O[0],g=O[1],x=Object(n.useState)(!1),p=Object(a.a)(x,2),v=p[0],S=p[1],f=Object(n.useState)(!0),I=Object(a.a)(f,2),y=I[0],N=I[1],k=Object(n.useState)(!1),R=Object(a.a)(k,2),_=R[0],C=R[1],A=Object(n.useState)(!1),w=Object(a.a)(A,2),E=w[0],G=w[1],J=Object(o.a)(r.f,!1),Y=J.sendRequest,q=J.status,F=J.error,z=function(){Y({token:t.token,cycleid:h,userid:t.userid,role:t.role,name:t.name}),S(!1),g(null),localStorage.removeItem("scaned"),localStorage.removeItem("scandata"),!E&&F&&t.addCycle(h)};if(Object(n.useEffect)((function(){g(localStorage.getItem("scandata")),S(localStorage.getItem("scaned")),"undefined"===localStorage.getItem("scandata")&&(g(null),S(!1),localStorage.removeItem("scaned"),localStorage.removeItem("scandata"))}),[]),Object(n.useEffect)((function(){"admin"===t.role&&C(!0),"guard"===t.role&&G(!0),void 0!==t.cycleid&&""!==t.cycleid&&N(!1)}),[t,t.role,y,N,C,_,E,G,t.cycleid]),"pending"===q)return Object(u.jsx)("div",{className:"centered",children:Object(u.jsx)(j.a,{})});if(F)return Object(u.jsx)("p",{className:"centered",children:F});if("completed"===q)return Object(u.jsxs)("div",{className:"centered",children:[Object(u.jsx)("div",{children:Object(u.jsx)("h1",{className:"centered",children:E?"Cycle Returned":"Cycle Rented"})}),Object(u.jsx)("div",{children:E&&Object(u.jsx)(d.a,{click:function(){S(!1),g(null),localStorage.removeItem("scaned"),localStorage.removeItem("scandata"),c.go(0)},children:"Return Another Cycle"})})]});var B=function(e){g(e),localStorage.setItem("scandata",e),S(!0),localStorage.setItem("scaned",!0)};return Object(u.jsxs)("div",{className:b.a.body,children:[!_&&!E&&Object(u.jsxs)("div",{className:b.a.comp,children:[!y&&Object(u.jsx)("h1",{className:"centered",children:"You have already rented one Cycle"}),y&&Object(u.jsxs)(u.Fragment,{children:[!v&&Object(u.jsx)(s.a,{scan:B}),h&&Object(u.jsx)("p",{className:b.a.p,children:h}),v&&Object(u.jsx)(d.a,{click:z,children:"Rent"}),v&&Object(u.jsx)(d.a,{click:function(){S(!1),g(null),localStorage.removeItem("scaned"),localStorage.removeItem("scandata")},children:"Scan Again"})]})]}),E&&Object(u.jsxs)("div",{className:b.a.comp,children:[!v&&Object(u.jsx)(s.a,{scan:B}),h&&Object(u.jsx)("p",{className:b.a.p,children:h}),v&&Object(u.jsx)(d.a,{click:z,children:"Return"}),v&&Object(u.jsx)(d.a,{click:function(){S(!1),g(null),localStorage.removeItem("scaned"),localStorage.removeItem("scandata")},children:"Scan Again"})]}),_&&!E&&Object(u.jsxs)("div",{className:b.a.comp,children:[!v&&Object(u.jsx)(s.a,{scan:B}),h&&Object(u.jsx)("p",{className:b.a.p,children:h}),v&&Object(u.jsx)(d.a,{click:z,children:"Admin"})]})]})}}}]);
//# sourceMappingURL=5.ac25968b.chunk.js.map