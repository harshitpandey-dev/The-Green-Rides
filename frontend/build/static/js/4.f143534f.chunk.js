(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[4],{71:function(e,t,n){e.exports={auth:"AuthForm_auth__2ZSKH",control:"AuthForm_control__1evQ4",actions:"AuthForm_actions__25Vmz",toggle:"AuthForm_toggle__1Wxr6"}},76:function(e,t,n){"use strict";n.r(t);var c=n(2),s=n(1),r=n(6),i=n(30),o=n(5),a=n(71),u=n.n(a),l=n(0),j=function(){var e=Object(r.g)(),t=Object(s.useState)(!1),n=Object(c.a)(t,2),a=n[0],j=n[1],b=Object(s.useState)(!1),h=Object(c.a)(b,2),d=h[0],O=h[1],p=Object(s.useContext)(o.b),m=Object(s.useRef)(),f=Object(s.useRef)(),g=Object(s.useState)(!1),x=Object(c.a)(g,2),w=x[0],v=x[1];return Object(l.jsxs)("section",{className:u.a.auth,children:[Object(l.jsx)("h1",{children:"Login"}),Object(l.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),a){var n=m.current.value,c=f.current.value;v(!0),"https://cycle-api.azurewebsites.net/users/login",fetch("https://cycle-api.azurewebsites.net/users/login",{method:"POST",body:JSON.stringify({email:n,password:c}),headers:{"Content-Type":"application/json"}}).then((function(e){return v(!1),e.ok?e.json():e.json().then((function(e){var t="Authentication Failed";throw e&&e.error&&e.error.message&&(v(!1),t=e.error.message),new Error(t)}))})).then((function(t){var n=new Date((new Date).getTime()+36e6);p.login(t,c,t.token,t._id,t.role,t.cycleid,n.toISOString()),e.replace("/")})).catch((function(e){alert(e.message)}))}else alert("Verify if you are human")},children:[Object(l.jsxs)("div",{className:u.a.control,children:[Object(l.jsx)("label",{htmlFor:"email",children:"Your Email"}),Object(l.jsx)("input",{type:"userName",id:"userName",required:!0,ref:m})]}),Object(l.jsxs)("div",{className:u.a.control,children:[Object(l.jsx)("label",{htmlFor:"password",children:"Your Password"}),Object(l.jsx)("input",{type:d?"text":"password",id:"password",required:!0,ref:f})]}),Object(l.jsx)("input",{type:"checkbox",onClick:function(){d&&O(!1),d||O(!0)}})," Show Password",Object(l.jsx)("div",{children:Object(l.jsx)(i.a,{sitekey:"6LcU0VQjAAAAAHdKzj2Ub7RAbfQCf6QXbgOif9Le",onChange:function(e){j(!0)}})}),Object(l.jsxs)("div",{className:u.a.actions,children:[!w&&Object(l.jsx)("button",{children:"Login"}),w&&Object(l.jsx)("p",{children:"Sending Request...."})]})]}),Object(l.jsx)("div",{className:u.a.actions,children:Object(l.jsx)("button",{onClick:function(){e.push("/signup")},children:" Sign Up"})})]})};t.default=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(j,{})})}}}]);
//# sourceMappingURL=4.f143534f.chunk.js.map