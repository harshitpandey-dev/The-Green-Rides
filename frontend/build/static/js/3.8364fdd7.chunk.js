(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[3],{69:function(e,r,c){e.exports={form:"ProfileForm_form__2xGgc",control:"ProfileForm_control__2YUZH",action:"ProfileForm_action__opJ_6"}},70:function(e,r,c){e.exports={profile:"UserProfile_profile__gQOnH",action:"UserProfile_action__8zxDu"}},75:function(e,r,c){"use strict";c.r(r);var t=c(2),n=c(1),o=c(5),s=c(6),a=c(69),i=c.n(a),l=c(0),d=function(e){var r=Object(s.g)(),c=Object(n.useRef)();return Object(l.jsxs)("form",{className:i.a.form,onSubmit:function(t){t.preventDefault();var n=c.current.value;fetch("".concat("https://pacific-fortress-54764.herokuapp.com","/users/password/").concat(e.userid),{method:"PATCH",body:JSON.stringify({password:n}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token}}).then((function(e){r.replace("/")}))},children:[Object(l.jsxs)("div",{className:i.a.control,children:[Object(l.jsx)("label",{htmlFor:"new-password",children:"New Password"}),Object(l.jsx)("input",{type:"password",id:"new-password",ref:c})]}),Object(l.jsx)("div",{className:i.a.action,children:Object(l.jsx)("button",{children:"Change Password"})})]})},u=function(e){var r=Object(n.useState)(!1),c=Object(t.a)(r,2),o=c[0],s=c[1];Object(n.useEffect)((function(){"guard"!==e.user.role&&"admin"!==e.user.role||s(!0)}),[e.user.role]);var a=e.user.cycleid?e.user.cycleid:"No Cycle Rented Yet";return Object(l.jsxs)("div",{children:[Object(l.jsxs)("h3",{className:"centered",children:["Name : ",e.user.name]}),!o&&Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("h4",{className:"centered",children:["Cycle Id : ",a]})})]})},j=c(70),b=c.n(j),f=function(){var e=Object(n.useContext)(o.b),r=Object(n.useState)(!1),c=Object(t.a)(r,2),s=c[0],a=c[1],i={name:e.name,branch:e.branch,rollno:e.rollno,cycleid:e.cycleid?e.cycleid:"",role:e.role};return Object(l.jsxs)("section",{className:b.a.profile,children:["student"==e.role&&Object(l.jsx)("h1",{children:"User Profile"}),"guard"==e.role&&Object(l.jsx)("h1",{children:"Guard Profile"}),"admin"==e.role&&Object(l.jsx)("h1",{children:"Admin Profile"}),Object(l.jsx)(u,{user:i}),s&&Object(l.jsx)(d,{token:localStorage.getItem("token"),userid:e.userid}),Object(l.jsx)("div",{className:b.a.action,children:Object(l.jsx)("button",{onClick:function(){s&&a(!1),s||a(!0)},children:s?"Cancel":"Change Password"})})]})};r.default=function(){return Object(l.jsx)(f,{})}}}]);
//# sourceMappingURL=3.8364fdd7.chunk.js.map